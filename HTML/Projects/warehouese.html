<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®Ø·Ø·Ø§Øª Data Warehouse</title>
    <!-- Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ù…ÙƒØªØ¨Ø© Mermaid Ù„Ù„Ø±Ø³Ù… -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap');

        body {
            font-family: 'Cairo', sans-serif;
            background-color: #f3f4f6;
        }

        .diagram-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            overflow-x: auto;
        }

        .diagram-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1e3a8a;
            margin-bottom: 10px;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 10px;
        }

        .diagram-desc {
            color: #4b5563;
            margin-bottom: 20px;
            font-size: 0.95rem;
        }

        .highlight-box {
            background-color: #e0f2fe;
            border-right: 4px solid #0284c7;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 4px;
        }
    </style>
</head>

<body class="p-6">

    <div class="max-w-5xl mx-auto text-center mb-8">
        <h1 class="text-3xl font-bold text-blue-900">Ø±Ø³ÙˆÙ…Ø§Øª Ø§Ù„Ù€ Data Warehouse Schemas</h1>
        <p class="text-gray-600 mt-2">Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø¨ØµØ±ÙŠ Ø§Ù„ÙƒØ§Ù…Ù„: Star, Snowflake, & Fact Constellation</p>
    </div>

    <!-- Star Schema Section -->
    <div class="diagram-container">
        <h2 class="diagram-title">1. Ù…Ø®Ø·Ø· Ø§Ù„Ù†Ø¬Ù…Ø© (Star Schema) â­</h2>
        <p class="diagram-desc">
            Ù„Ø§Ø­Ø¸ Ø§Ù„Ø¨Ø³Ø§Ø·Ø©: Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ <strong>(Sales Fact)</strong> ÙÙŠ Ø§Ù„Ù…Ø±ÙƒØ²ØŒ ÙˆØªØ­ÙŠØ· Ø¨Ù‡ Ø¬Ø¯Ø§ÙˆÙ„ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯
            <strong>(Dimensions)</strong> Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø©.
            <br><span class="text-blue-600 font-bold">Ø§Ù„Ù…ÙŠØ²Ø©:</span> Ø§Ø³ØªØ¹Ù„Ø§Ù… Ø³Ø±ÙŠØ¹ Ø¬Ø¯Ø§Ù‹ (Ø¹Ø¯Ø¯ Joins Ù‚Ù„ÙŠÙ„).
        </p>
        <div class="mermaid flex justify-center">
            erDiagram
            %% Fact Table
            FACT_SALES {
            int time_key FK
            int item_key FK
            int branch_key FK
            int location_key FK
            float dollars_sold
            int units_sold
            }

            %% Dimensions
            DIM_TIME {
            int time_key PK
            string day
            string month
            int year
            }
            DIM_ITEM {
            int item_key PK
            string name
            string brand
            string category
            }
            DIM_BRANCH {
            int branch_key PK
            string branch_name
            string branch_type
            }
            DIM_LOCATION {
            int location_key PK
            string street
            string city
            string country
            }

            %% Relationships (Star shape)
            FACT_SALES }|..|| DIM_TIME : "Time"
            FACT_SALES }|..|| DIM_ITEM : "Item"
            FACT_SALES }|..|| DIM_BRANCH : "Branch"
            FACT_SALES }|..|| DIM_LOCATION : "Location"
        </div>
    </div>

    <!-- Snowflake Schema Section -->
    <div class="diagram-container" style="border: 2px solid #3b82f6;">
        <h2 class="diagram-title text-blue-700">2. Ù…Ø®Ø·Ø· Ù†Ø¯ÙØ© Ø§Ù„Ø«Ù„Ø¬ (Snowflake Schema) â„ï¸ - Ø´Ø±Ø­ Ù…ÙØµÙ„</h2>

        <div class="highlight-box">
            <h3 class="font-bold text-lg mb-2">Ù…Ø§Ø°Ø§ Ø­Ø¯Ø« Ù‡Ù†Ø§ØŸ (Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø³Ù„Ø³Ù„Ø©)</h3>
            <p>ÙÙŠ Ù…Ø®Ø·Ø· Ø§Ù„Ù†Ø¬Ù…Ø© (Ø¨Ø§Ù„Ø£Ø¹Ù„Ù‰)ØŒ ÙƒØ§Ù† Ø¬Ø¯ÙˆÙ„ <strong>DIM_LOCATION</strong> ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© ÙˆØ§Ù„Ø¯ÙˆÙ„Ø©.</p>
            <p>Ù‡Ù†Ø§ Ù‚Ù…Ù†Ø§ Ø¨Ù€ "ØªÙ‚Ø´ÙŠØ±" Ø§Ù„Ø¬Ø¯ÙˆÙ„:</p>
            <ol class="list-decimal list-inside mt-2 space-y-1">
                <li>Ø¬Ø¯ÙˆÙ„ <strong>LOCATION</strong> Ø£ØµØ¨Ø­ ÙŠØ­ØªÙˆÙŠ ÙÙ‚Ø· Ø¹Ù„Ù‰ (Ø§Ù„Ø´Ø§Ø±Ø¹) ÙˆÙ…ÙØªØ§Ø­ ÙŠØ´ÙŠØ± Ù„Ù„Ù…Ø¯ÙŠÙ†Ø©.</li>
                <li>Ø®Ø±Ø¬ Ù…Ù†Ù‡ Ø¬Ø¯ÙˆÙ„ Ø¬Ø¯ÙŠØ¯ <strong>CITY</strong> ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ (Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©) ÙˆÙ…ÙØªØ§Ø­ ÙŠØ´ÙŠØ± Ù„Ù„Ø¯ÙˆÙ„Ø©.</li>
                <li>Ø®Ø±Ø¬ Ù…Ù†Ù‡ Ø¬Ø¯ÙˆÙ„ Ø«Ø§Ù„Ø« <strong>COUNTRY</strong> ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ (Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆÙ„Ø©).</li>
            </ol>
            <p class="mt-2 text-sm text-gray-600"><strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> Ø´ÙƒÙ„ Ù…ØªÙØ±Ø¹ ÙŠØ´Ø¨Ù‡ Ø§Ù„Ø«Ù„Ø¬ØŒ ÙŠÙˆÙØ± Ù…Ø³Ø§Ø­Ø© ØªØ®Ø²ÙŠÙ† Ù„ÙƒÙ†Ù‡
                ÙŠØ¨Ø·Ø¦ Ø§Ù„Ø¨Ø­Ø«.</p>
        </div>

        <div class="mermaid flex justify-center">
            erDiagram
            %% Fact Table
            FACT_SALES {
            int item_key FK
            int location_key FK "Ù…ÙØªØ§Ø­ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙ‚Ø·"
            float dollars_sold
            }

            %% Dimensions
            DIM_ITEM {
            int item_key PK
            string name
            }

            %% The Snowflaking Chain
            DIM_LOCATION {
            int location_key PK
            string street
            int city_key FK "ÙŠØ´ÙŠØ± Ù„Ù„Ù…Ø¯ÙŠÙ†Ø©"
            }
            DIM_CITY {
            int city_key PK
            string city_name
            int country_key FK "ÙŠØ´ÙŠØ± Ù„Ù„Ø¯ÙˆÙ„Ø©"
            }
            DIM_COUNTRY {
            int country_key PK
            string country_name
            }

            %% Relationships
            FACT_SALES }|..|| DIM_ITEM : "Item"

            %% The Chain Visualized
            FACT_SALES }|..|| DIM_LOCATION : "1. Ù…Ø±Ø¨ÙˆØ· Ø¨Ø§Ù„Ù…ÙˆÙ‚Ø¹"
            DIM_LOCATION }|..|| DIM_CITY : "2. Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…Ø±Ø¨ÙˆØ· Ø¨Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©"
            DIM_CITY }|..|| DIM_COUNTRY : "3. Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ù…Ø±Ø¨ÙˆØ·Ø© Ø¨Ø§Ù„Ø¯ÙˆÙ„Ø©"
        </div>
    </div>

    <!-- Fact Constellation Section -->
    <div class="diagram-container">
        <h2 class="diagram-title">3. Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ù†Ø¬ÙˆÙ… (Fact Constellation / Galaxy) ğŸŒŒ</h2>
        <p class="diagram-desc">
            Ù‡Ù†Ø§ Ù„Ø¯ÙŠÙ†Ø§ <strong>Ø¬Ø¯ÙˆÙ„ÙŠÙ† Ù„Ù„Ø­Ù‚Ø§Ø¦Ù‚</strong>: ÙˆØ§Ø­Ø¯ Ù„Ù„Ù…Ø¨ÙŠØ¹Ø§Øª (Sales) ÙˆÙˆØ§Ø­Ø¯ Ù„Ù„Ø´Ø­Ù† (Shipping).
            <br>Ù„Ø§Ø­Ø¸ ÙƒÙŠÙ ÙŠØªØ´Ø§Ø±ÙƒØ§Ù† ÙÙŠ Ù†ÙØ³ Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„ÙˆÙ‚Øª (Time) ÙˆØ§Ù„Ù…Ù†ØªØ¬ (Item). Ù‡Ø°Ø§ ÙŠÙˆÙØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø© ÙˆÙŠÙ…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø±.
        </p>
        <div class="mermaid flex justify-center">
            erDiagram
            %% Fact Table 1
            FACT_SALES {
            int time_key FK
            int item_key FK
            int branch_key FK
            float dollars_sold
            }

            %% Fact Table 2
            FACT_SHIPPING {
            int time_key FK
            int item_key FK
            int shipper_key FK
            float shipping_cost
            }

            %% Shared Dimensions
            DIM_TIME {
            int time_key PK
            int year
            }
            DIM_ITEM {
            int item_key PK
            string name
            }

            %% Specific Dimensions
            DIM_BRANCH {
            int branch_key PK
            string name
            }
            DIM_SHIPPER {
            int shipper_key PK
            string shipper_name
            }

            %% Relationships
            FACT_SALES }|..|| DIM_TIME : "Shared Time"
            FACT_SHIPPING }|..|| DIM_TIME : "Shared Time"

            FACT_SALES }|..|| DIM_ITEM : "Shared Item"
            FACT_SHIPPING }|..|| DIM_ITEM : "Shared Item"

            FACT_SALES }|..|| DIM_BRANCH : "Sales Only"
            FACT_SHIPPING }|..|| DIM_SHIPPER : "Shipping Only"
        </div>
    </div>

    <script>
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            er: {
                useMaxWidth: true,
                layoutDirection: 'TB',
                minEntityWidth: 100
            }
        });
    </script>
</body>

</html>