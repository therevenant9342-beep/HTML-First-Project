<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ملخص مادة قواعد البيانات - B-Tree & NoSQL</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', sans-serif;
        }

        .formula {
            background-color: #f3f4f6;
            padding: 10px;
            border-radius: 8px;
            border-right: 4px solid #3b82f6;
            margin: 10px 0;
            font-family: monospace;
            direction: ltr;
            text-align: left;
        }

        .important-note {
            background-color: #fffbeb;
            border-right: 4px solid #f59e0b;
            padding: 1rem;
            margin: 1rem 0;
        }

        .card {
            transition: transform 0.2s;
        }

        .card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>

<body class="bg-slate-50 text-slate-800">

    <header class="bg-blue-700 text-white py-10 shadow-lg text-center">
        <h1 class="text-4xl font-bold mb-2">الملخص الشامل للامتحان: B-Tree & NoSQL</h1>
        <p class="text-lg opacity-90">شرح تفصيلي لكل القواعد والعمليات البرمجية</p>
    </header>

    <main class="max-w-5xl mx-auto p-6 space-y-12">

        <!-- القسم الأول: B-Tree -->
        <section id="b-tree">
            <h2 class="text-3xl font-bold text-blue-800 mb-6 border-b-2 border-blue-200 pb-2">1. فهرسة B-Tree (B-Tree
                Indexing)</h2>
            <p class="mb-4">هي طريقة لترتيب كتل البيانات الكبيرة لجعل البحث أسرع وأسهل، وتستخدم بكثرة في قواعد البيانات
                لتحسين الأداء.</p>

            <div class="grid md:grid-cols-2 gap-6">
                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 card">
                    <h3 class="font-bold text-xl mb-3 text-blue-600">خصائص الهيكل (Structure)</h3>
                    <ul class="list-disc list-inside space-y-2">
                        <li><strong>الترتيب التصاعدي:</strong> يتم تخزين المفاتيح داخل كل عقدة بترتيب تصاعدي.</li>
                        <li><strong>مراجع الأبناء (Child References):</strong> كل مفتاح له مرجعان للعقد الأبناء.</li>
                        <li><strong>قاعدة الأبناء:</strong> إذا كانت العقدة تحتوي على عدد $n$ من المفاتيح، فلها بحد أقصى
                            $n+1$ من الأبناء.</li>
                        <li>الأبناء على اليسار قيمهم أصغر، وعلى اليمين قيمهم أكبر.</li>
                    </ul>
                </div>

                <div class="bg-white p-6 rounded-xl shadow-sm border border-slate-200 card">
                    <h3 class="font-bold text-xl mb-3 text-blue-600">القوانين الرياضية (هام جداً)</h3>
                    <p>لنفرض أن $t$ هو "درجة" الشجرة (Degree):</p>
                    <div class="formula">
                        Max keys = t - 1 <br>
                        Min keys = ceil(t / 2) - 1 <br>
                        Max children = t <br>
                        Min children = ceil(t / 2)
                    </div>
                    <p class="text-sm text-slate-500 italic mt-2">مثال: إذا كان $t=4$، فإن أقصى عدد للمفاتيح هو 3، وأقل
                        عدد هو 1.</p>
                </div>
            </div>

            <!-- تعقيد الوقت -->
            <div class="mt-8 overflow-x-auto">
                <h3 class="font-bold text-xl mb-4">مقارنة تعقيد الوقت (Time Complexity)</h3>
                <table class="w-full bg-white rounded-lg overflow-hidden shadow">
                    <thead class="bg-blue-600 text-white">
                        <tr>
                            <th class="p-3 text-right">النوع</th>
                            <th class="p-3 text-center">الإضافة (Insertion)</th>
                            <th class="p-3 text-center">الحذف (Deletion)</th>
                            <th class="p-3 text-center">البحث (Lookup)</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-slate-200">
                        <tr>
                            <td class="p-3 font-bold">المصفوفة غير المرتبة</td>
                            <td class="p-3 text-center">$O(1)$</td>
                            <td class="p-3 text-center">$O(n)$</td>
                            <td class="p-3 text-center">$O(n)$</td>
                        </tr>
                        <tr>
                            <td class="p-3 font-bold">المصفوفة المرتبة</td>
                            <td class="p-3 text-center">$O(n)$</td>
                            <td class="p-3 text-center">$O(n)$</td>
                            <td class="p-3 text-center">$O(\log n)$</td>
                        </tr>
                        <tr class="bg-blue-50">
                            <td class="p-3 font-bold">B-Tree</td>
                            <td class="p-3 text-center">$O(\log n)$</td>
                            <td class="p-3 text-center">$O(\log n)$</td>
                            <td class="p-3 text-center">$O(\log n)$</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- العمليات -->
            <div class="mt-10 bg-white p-6 rounded-xl shadow-md">
                <h3 class="font-bold text-2xl mb-4 text-green-700">العمليات الأساسية</h3>
                <div class="space-y-6">
                    <div>
                        <h4 class="font-bold text-lg">أ. الإضافة (Insertion):</h4>
                        <p>تتم الإضافة دائماً في أوراق الشجرة (Leaf Nodes). إذا كانت العقدة ممتلئة (تجاوزت Max keys)،
                            نقوم بعملية <strong>التقسيم (Split)</strong>: يُرفع المفتاح الأوسط للأعلى ليصبح والداً،
                            وتُقسم البقية لعقدتين أبناء.</p>
                    </div>
                    <div class="border-t pt-4">
                        <h4 class="font-bold text-lg">ب. الحذف (Deletion):</h4>
                        <ul class="list-disc list-inside">
                            <li><strong>الاستعارة (Borrowing):</strong> إذا نقصت المفاتيح عن الحد الأدنى، نحاول
                                الاستعارة من الأخ (Sibling) إذا كان لديه فائض.</li>
                            <li><strong>الدمج (Merge):</strong> إذا لم يكن لدى الأخ فائض، نقوم بدمج العقدتين مع مفتاح من
                                الوالد.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- القسم الثاني: B-Tree vs B+ Tree -->
        <section id="comparison" class="bg-blue-50 p-8 rounded-2xl">
            <h2 class="text-3xl font-bold text-blue-800 mb-6">2. الفرق بين B-Tree و B+Tree</h2>
            <div class="grid md:grid-cols-2 gap-8">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="font-bold text-orange-600 mb-2">B-Tree</h3>
                    <p>تخزن البيانات (Records) في <strong>جميع العقد</strong> (الأوراق وغير الأوراق).</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow">
                    <h3 class="font-bold text-orange-600 mb-2">B+Tree</h3>
                    <p>تخزن البيانات <strong>فقط في العقد الورقية (Leaf Nodes)</strong>. أما العقد غير الورقية فتحتوي
                        فقط على مفاتيح للتوجيه (Pointers).</p>
                </div>
            </div>
            <div class="important-note">
                <strong>ملاحظة هامة:</strong> في قواعد البيانات الفعلية، يتم استخدام B-Tree للفهرسة (Indexing) و B+Tree
                لتخزين السجلات الفعلية.
            </div>
        </section>

        <!-- القسم الثالث: NoSQL -->
        <section id="nosql">
            <h2 class="text-3xl font-bold text-purple-800 mb-6 border-b-2 border-purple-200 pb-2">3. قواعد البيانات غير
                العلاقية (NoSQL)</h2>
            <p class="mb-6 italic">تعني (Not Only SQL) وظهرت للتعامل مع البيانات غير المنظمة والضخمة التي تفشل فيها
                الجداول التقليدية.</p>

            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4">
                <div class="bg-purple-100 p-4 rounded-lg text-center shadow-sm">
                    <h4 class="font-bold mb-2">Key/Value</h4>
                    <p class="text-sm">مفتاح فريد مقابل قيمة (مثل Sherlock Holmes/Age 40)</p>
                </div>
                <div class="bg-blue-100 p-4 rounded-lg text-center shadow-sm">
                    <h4 class="font-bold mb-2">Graph</h4>
                    <p class="text-sm">تخزين البيانات كعقد (Nodes) وروابط (Links) للعلاقات المعقدة.</p>
                </div>
                <div class="bg-green-100 p-4 rounded-lg text-center shadow-sm">
                    <h4 class="font-bold mb-2">Column oriented</h4>
                    <p class="text-sm">تخزين البيانات في أعمدة ديناميكية (مثالية للتحليلات).</p>
                </div>
                <div class="bg-yellow-100 p-4 rounded-lg text-center shadow-sm">
                    <h4 class="font-bold mb-2">Document</h4>
                    <p class="text-sm">تخزين البيانات بتنسيق JSON/BSON (مثل MongoDB).</p>
                </div>
            </div>

            <div class="mt-10">
                <h3 class="font-bold text-xl mb-4">أشهر قواعد بيانات NoSQL للعلم ببيانات:</h3>
                <ul class="grid md:grid-cols-2 gap-4">
                    <li class="p-3 border rounded shadow-sm"><strong>MongoDB:</strong> الأكثر شهرة، مبنية على المستندات
                        (Documents).</li>
                    <li class="p-3 border rounded shadow-sm"><strong>Cassandra:</strong> مبنية على الأعمدة، قابلة للتوسع
                        بشكل هائل (تستخدمها Facebook/Uber).</li>
                    <li class="p-3 border rounded shadow-sm"><strong>Elasticsearch:</strong> محرك بحث وتحليل فائق
                        السرعة.</li>
                    <li class="p-3 border rounded shadow-sm"><strong>Neo4J:</strong> متخصصة في العلاقات (Graph
                        oriented).</li>
                </ul>
            </div>
        </section>

        <!-- القسم الرابع: التحويل من SQL إلى NoSQL -->
        <section id="mapping" class="bg-slate-800 text-white p-8 rounded-2xl">
            <h2 class="text-3xl font-bold mb-6 text-blue-400">4. التحويل والمقارنة (SQL vs NoSQL)</h2>

            <div class="space-y-8">
                <div>
                    <h3 class="text-xl font-bold mb-2">قاعدة التحويل (1:M Relationship):</h3>
                    <p class="opacity-80">في SQL نستخدم جدولين خارجيين، أما في NoSQL نفضل <strong>التضمين
                            (Embedding)</strong> داخل مستند واحد لزيادة الأداء، بشرط ألا ينمو حجم البيانات بشكل مفرط.
                    </p>
                </div>

                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-slate-700 p-5 rounded-lg border border-slate-600">
                        <h4 class="font-bold text-yellow-400 mb-3 underline">مثال جمل SQL</h4>
                        <div class="formula bg-slate-900 border-yellow-400 text-yellow-200">
                            INSERT INTO book (ISBN, title) VALUES (...);<br>
                            SELECT title FROM book WHERE price > 10;
                        </div>
                    </div>
                    <div class="bg-slate-700 p-5 rounded-lg border border-slate-600">
                        <h4 class="font-bold text-green-400 mb-3 underline">مثال جمل NoSQL (MongoDB)</h4>
                        <div class="formula bg-slate-900 border-green-400 text-green-200">
                            db.book.insert({ISBN: "...", title: "..."});<br>
                            db.book.find({price: {$gt: 10}}, {title: 1});
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-8 bg-slate-900 p-6 rounded-xl border border-blue-500">
                <h3 class="font-bold text-xl text-blue-300 mb-3">قاعدة ذهبية للامتحان:</h3>
                <p>في NoSQL، يتم تفضيل <strong>الأداء (Performance)</strong> على <strong>التنظيم
                        (Normalization)</strong>. لا بأس بتكرار البيانات (Redundancy) إذا كان ذلك سيجعل الاستعلام أسرع.
                </p>
            </div>
        </section>

    </main>

    <footer class="bg-slate-200 py-6 text-center text-slate-600 mt-12">
        <p>تمنياتنا بالتوفيق في الامتحان!</p>
        <p class="text-sm">إعداد الملخص بناءً على محاضرات د. هند</p>
    </footer>

</body>

</html>