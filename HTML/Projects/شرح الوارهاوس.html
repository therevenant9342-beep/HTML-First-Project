<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Data Warehouse Study Guide (Lecture 1)</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --bg-color: #f8f9fa;
            --text-color: #333;
            --code-bg: #f4f4f4;
            --border-color: #ddd;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            direction: ltr;
            /* Force Left-to-Right */
            text-align: left;
            /* Force Left Alignment */
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 30px;
        }

        h2 {
            color: var(--primary-color);
            margin-top: 40px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 5px;
        }

        h3 {
            color: var(--accent-color);
            margin-top: 25px;
        }

        p {
            margin-bottom: 15px;
        }

        ul,
        ol {
            margin-bottom: 15px;
            padding-left: 25px;
        }

        li {
            margin-bottom: 8px;
        }

        /* Table Styling */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 0.95em;
        }

        th,
        td {
            padding: 12px 15px;
            border: 1px solid var(--border-color);
            text-align: left;
        }

        th {
            background-color: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        tr:hover {
            background-color: #f1f1f1;
        }

        /* Code Block Styling */
        pre {
            background-color: var(--code-bg);
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border: 1px solid var(--border-color);
            margin: 15px 0;
        }

        code {
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            color: #d63384;
            background-color: rgba(214, 51, 132, 0.1);
            padding: 2px 4px;
            border-radius: 3px;
        }

        pre code {
            color: #333;
            background-color: transparent;
            padding: 0;
        }

        .highlight-box {
            background-color: #e8f4fd;
            border-left: 4px solid var(--accent-color);
            padding: 15px;
            margin: 20px 0;
        }

        strong {
            color: var(--primary-color);
        }

        /* Mobile Responsiveness */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }

            th,
            td {
                padding: 8px;
                font-size: 0.85em;
            }

            table {
                display: block;
                overflow-x: auto;
                white-space: nowrap;
            }
        }
    </style>
</head>

<body>

    <div class="container">
        <h1>Data Warehouse Study Guide (Lecture 1)<br><small style="font-size: 0.6em; color: #666;">"From Zero to
                Hero"</small></h1>

        <p>Welcome to the world of Big Data! Here is the lecture broken down into easy-to-digest parts.</p>

        <!-- PART 1 -->
        <h2>Part 1: The Story & Concept (Why & What?)</h2>

        <h3>1. Why did Data Warehouse appear?</h3>
        <p>In the past, companies used databases (DB) to run daily operations (recording invoices, adding employees,
            etc.). However, when managers wanted to "analyze" this data to make decisions (e.g., <em>"What was the
                best-selling product in the last 10 years?"</em>), they faced problems:</p>
        <ul>
            <li>Data is scattered across many locations.</li>
            <li>Data is inconsistent (one branch writes dates as <code>dd/mm</code>, another as <code>mm/dd</code>).
            </li>
            <li>Analytical queries are very slow and crash the main operational system.</li>
        </ul>
        <div class="highlight-box">
            <strong>The Solution:</strong> Create a "Giant Store" where we collect all historical data in a clean and
            organized way specifically for "Analysis and Decision Making." This is the Data Warehouse.
        </div>

        <h3>2. Definition of Data Warehouse (The 4 Key Terms)</h3>
        <p>It is a database with 4 distinct characteristics (<em>Memorize these!</em>):</p>
        <ol>
            <li><strong>Subject-oriented:</strong> Focuses on analytical subjects (Sales, Customers) rather than daily
                operations.</li>
            <li><strong>Integrated:</strong> Data is gathered from various sources but unified in format (same currency,
                same date format).</li>
            <li><strong>Time-variant:</strong> Stores historical data (e.g., last 5 or 10 years), not just current
                values.</li>
            <li><strong>Non-volatile:</strong> Once data enters the warehouse, it is not modified or deleted (mostly
                Read-only); it is used for reading and analysis only.</li>
        </ol>

        <!-- PART 2 -->
        <h2>Part 2: The Core Difference (OLTP vs. OLAP)</h2>
        <p><em>This table is the most important theoretical question in the lecture.</em></p>

        <table>
            <thead>
                <tr>
                    <th>Comparison Point</th>
                    <th>OLTP (Operational System)</th>
                    <th>OLAP (Data Warehouse)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>Full Name</strong></td>
                    <td>On-Line Transaction Processing</td>
                    <td>On-Line Analytical Processing</td>
                </tr>
                <tr>
                    <td><strong>Goal</strong></td>
                    <td>Run daily operations (Buying, Selling)</td>
                    <td>Analyze data and make decisions</td>
                </tr>
                <tr>
                    <td><strong>User</strong></td>
                    <td>Clerk, Cashier, IT Staff</td>
                    <td>Manager, Analyst, CEO</td>
                </tr>
                <tr>
                    <td><strong>Data</strong></td>
                    <td>Current, detailed data</td>
                    <td>Historical, summarized data</td>
                </tr>
                <tr>
                    <td><strong>Operation Type</strong></td>
                    <td>Frequent Read/Write</td>
                    <td>Read-Only (Complex queries)</td>
                </tr>
                <tr>
                    <td><strong>Size</strong></td>
                    <td>Relatively small (MB to GB)</td>
                    <td>Huge (TB to PB)</td>
                </tr>
            </tbody>
        </table>

        <!-- PART 3 -->
        <h2>Part 3: Architecture</h2>
        <p>How do we build this system? <strong>(Three-Tier Architecture)</strong>:</p>
        <ol>
            <li><strong>Bottom Tier (Warehouse Server):</strong>
                <ul>
                    <li>Contains the actual Data Warehouse.</li>
                    <li>Fed with data via <strong>ETL tools</strong> (Extract, Transform, Load) which pull and clean
                        data from sources.</li>
                </ul>
            </li>
            <li><strong>Middle Tier (OLAP Server):</strong>
                <ul>
                    <li>Responsible for calculations and converting data into "multidimensional cubes" for easier
                        analysis.</li>
                </ul>
            </li>
            <li><strong>Top Tier (User Interface):</strong>
                <ul>
                    <li>Tools seen by the manager (Reports, Charts, Data Mining tools).</li>
                </ul>
            </li>
        </ol>

        <h3>Important Terms:</h3>
        <ul>
            <li><strong>Enterprise Warehouse:</strong> A comprehensive warehouse for all company data (takes a very long
                time to build).</li>
            <li><strong>Data Mart:</strong> A small warehouse focusing on just one department (e.g., Sales Data Mart).
                It is faster and cheaper to build.</li>
        </ul>

        <!-- PART 4 -->
        <h2>Part 4: Design (Schemas) - "The Practical Part"</h2>
        <p>In standard databases, we use ERD. Here, we use the <strong>Multi-dimensional Model</strong>.</p>
        <p>This model relies on two main types of tables:</p>
        <ul>
            <li><strong>Fact Table:</strong> A central table containing "numbers" we want to analyze (Measures like:
                Sales in dollars, Units sold) and Foreign Keys.</li>
            <li><strong>Dimension Table:</strong> Tables surrounding the Fact table that describe the data (e.g., Time
                table, Item table, Branch table).</li>
        </ul>

        <h3>Design Types (Drawing Questions):</h3>

        <h4>1. Star Schema (Most Famous & Simple)</h4>
        <ul>
            <li>One huge Fact table in the center.</li>
            <li>Dimension tables surround it.</li>
            <li><strong>Advantage:</strong> Dimension tables are <strong>De-normalized</strong> (one table per
                dimension). This makes queries very fast.</li>
        </ul>

        <h4>2. Snowflake Schema</h4>
        <ul>
            <li>Similar to the Star, but Dimension tables are <strong>normalized</strong> (split).</li>
            <li><em>Example:</em> Instead of one "Location" table, we split it into "City" table and "Country" table.
            </li>
            <li><strong>Disadvantage:</strong> The diagram becomes complex, and queries are slower (due to many Joins).
            </li>
        </ul>

        <h4>3. Fact Constellation (Galaxy Schema)</h4>
        <ul>
            <li>Used when we have <strong>more than one Fact table</strong> (e.g., Sales Fact and Shipping Fact).</li>
            <li>The tables share some Dimensions (like Time and Item).</li>
        </ul>

        <!-- PART 5 -->
        <h2>Part 5: DMQL Language (Data Mining Query Language)</h2>
        <p>At the end of the lecture (Page 45+), there is a syntax for defining cubes. It looks like SQL but with
            different keywords:</p>
        <ul>
            <li><code>define cube</code>: To define the Fact table.</li>
            <li><code>define dimension</code>: To define the surrounding tables.</li>
        </ul>

        <div class="highlight-box">
            <strong>Simple Concept Example:</strong>
            <pre><code>define cube sales [time, item, branch, location]:
dollars_sold = sum(sales_in_dollars),  -- This is a Measure
units_sold = count(*)</code></pre>
            <small><em>Meaning: Create a cube named sales, with dimensions (time, item, branch, location), and calculate
                    (Total Dollars and Count of Units).</em></small>
        </div>

        <!-- PART 6 -->
        <h2>Part 6: DMQL Syntax Mastery Guide</h2>
        <p><em>Use these templates to answer exam questions.</em></p>

        <h3>1. Cube Definition Template (Fact Table)</h3>
        <p>Use this command to create the central table.</p>
        <p><strong>Syntax:</strong></p>
        <pre><code>define cube &lt;cube_name&gt; [&lt;dimension_list&gt;]:
&lt;measure_name&gt; = &lt;agg_func&gt;(&lt;column_name&gt;),
&lt;measure_name&gt; = &lt;agg_func&gt;(&lt;column_name&gt;)</code></pre>

        <p><strong>Example:</strong></p>
        <pre><code>define cube sales [time, item, branch, location]:
dollars_sold = sum(sales_in_dollars),
units_sold = count(*)</code></pre>

        <h3>2. Dimension Definition Template</h3>
        <p>Use this to define the surrounding tables.</p>
        <p><strong>Syntax:</strong></p>
        <pre><code>define dimension &lt;dimension_name&gt; as (&lt;attribute_list&gt;)</code></pre>

        <p><strong>Hierarchy Trick:</strong> If a dimension has nested details (like a city inside a country), use
            <strong>Nested Parentheses</strong>.</p>

        <p><em>Example (Star Style):</em></p>
        <pre><code>define dimension time as (time_key, day, month, year)</code></pre>

        <p><em>Example (Snowflake Style - Hierarchy):</em></p>
        <pre><code>define dimension location as (location_key, street, city(city_key, state, country))</code></pre>
        <p><small><em>Note: We wrote <code>city(...)</code> and opened a new parenthesis inside it.</em></small></p>

        <h3>3. Shared Dimensions Template (Fact Constellation)</h3>
        <p>If you have two cubes (Sales and Shipping) sharing the same Time dimension, use the <code>in cube</code>
            syntax.</p>

        <pre><code>define cube shipping [time, item, shipper, from_location, to_location]:
dollar_cost = sum(cost_in_dollars),
unit_shipped = count(*)

-- Shared Dimensions --
define dimension time as time in cube sales
define dimension item as item in cube sales

-- Specific Dimensions --
define dimension shipper as (shipper_key, shipper_name, location as location in cube sales, shipper_type)</code></pre>

        <h3>Summary:</h3>
        <ul>
            <li>Start with <code>define</code>.</li>
            <li>Use Square Brackets <code>[]</code> for dimensions inside the Cube definition.</li>
            <li>Use Parentheses <code>()</code> for column details inside the Dimension definition.</li>
            <li>Common functions: <code>sum()</code>, <code>count()</code>, <code>avg()</code>, <code>min()</code>,
                <code>max()</code>.</li>
        </ul>
    </div>

</body>

</html>